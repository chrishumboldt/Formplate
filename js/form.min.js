"use strict";Rocket.defaults.form={target:".mod-form",colour:"blue",label:"normal",size:"normal",style:"line"},Rocket.form=function(){function e(){Rocket.has.class(Rocket.dom.html,"mod-form-listener")||(Rocket.classes.add(Rocket.dom.html,"mod-form-listener"),Rocket.event.add(".mod-form-listener","click",p.processEvent),Rocket.event.add(".mod-form-listener","focusin",p.processEvent),Rocket.event.add(".mod-form-listener","focusout",p.processEvent))}function t(e){var t={container:e,element:void 0},o=Rocket.clone(f),c="",a=!1;switch(t.container.querySelector("input")?(t.element=t.container.querySelectorAll("input"),"checkbox"!==(c=Rocket.string.lowercase.all(t.element[0].getAttribute("type")))&&"radio"!==c||(t.element=t.element[0])):t.container.querySelector("select")?(t.element=t.container.querySelector("select"),c="select"):t.container.querySelector("textarea")&&(t.element=t.container.querySelectorAll("textarea"),c="textarea"),c){case"checkbox":case"radio":t.element.checked?o.push("is-checked"):Rocket.classes.remove(t.container,"is-checked"),Rocket.has.class(t.element,"_mod-make-toggler")?o.push("_mod-type-toggler"):o.push("_mod-type-check--"+c);break;case"select":o.push("_mod-type-select");break;default:a=!0,o.push("_mod-type-input--"+c),setTimeout(function(){for(var e=0,o=t.element.length;e<o;e++)if("password"===c&&t.element[e].click(),t.element[e].value.length>0){Rocket.classes.add(t.container,"is-valued");break}},0)}if(Rocket.has.class(t.container,"mod-form")){var s=t.container.className.split(" ").filter(function(e){return"_mod-"===e.substring(0,5)}).concat(["is-checked","is-valued"]);Rocket.classes.remove(t.container,s)}"shift"===i&&a&&Rocket.classes.add(t.container,"_mod-label-shift"),Rocket.classes.add(t.container,o)}function o(){"blue"!==n&&f.push("_mod-colour-"+n),"normal"!==m&&f.push("_mod-size-"+m),"line"!==k&&f.push("_mod-style-"+k)}var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=c.target,s=void 0===a?Rocket.defaults.form.target:a,r=c.colour,n=void 0===r?Rocket.defaults.form.colour:r,l=c.label,i=void 0===l?Rocket.defaults.form.label:l,d=c.size,m=void 0===d?Rocket.defaults.form.size:d,u=c.style,k=void 0===u?Rocket.defaults.form.style:u,f=["mod-form"],h=new RegExp("mod-form "),p={checkboxChange:function(e){e.checked?Rocket.classes.add(e.parentNode,"is-checked"):Rocket.classes.remove(e.parentNode,"is-checked")},makeValued:function(e){setTimeout(function(){Rocket.classes.add(e.parentNode,"is-valued")},0)},processEvent:function(e){var t=Rocket.string.lowercase.all(e.target.tagName),o=e.target.parentNode.className;if(("input"===t||"textarea"===t)&&h.test(o))switch(Rocket.string.lowercase.all(e.target.getAttribute("type"))){case"checkbox":"click"===e.type&&p.checkboxChange(e.target);break;case"radio":"click"===e.type&&p.radioChange(e.target);break;default:"focusin"===e.type?p.makeValued(e.target):"focusout"===e.type&&p.removeValued(e.target)}},radioChange:function(e){var t=e.getAttribute("name")||!1;t&&(Rocket.classes.remove(Rocket.dom.select('input[name="'+t+'"]').map(function(e){return e.parentNode}),"is-checked"),Rocket.classes.add(e.parentNode,"is-checked"))},removeValued:function(e){e.value.length<1&&Rocket.classes.remove(e.parentNode,"is-valued")}};return function(){var c=Rocket.dom.select(s);o(),c.length>0&&c.map(function(e){return t(e)}),e()}()};
"use strict";Rocket.defaults.form={targets:".mod-form",colour:"blue",label:"normal",size:"normal",style:"line"},Rocket.form=function(){function e(){Rocket.has.class(Rocket.dom.html,"mod-form-listener")||(Rocket.classes.add(Rocket.dom.html,"mod-form-listener"),Rocket.event.add(".mod-form-listener","click",p.processEvent),Rocket.event.add(".mod-form-listener","focusout",p.processEvent))}function t(e){var t={container:e,element:void 0},o=Rocket.clone(u),c="";if(t.container.querySelector("input")?(t.element=t.container.querySelectorAll("input"),"checkbox"!==(c=Rocket.string.lowercase.all(t.element[0].getAttribute("type")))&&"radio"!==c||(t.element=t.element[0])):t.container.querySelector("select")?(t.element=t.container.querySelector("select"),c="select"):t.container.querySelector("textarea")&&(t.element=t.container.querySelector("textarea"),c="textarea"),Rocket.has.class(t.container,"mod-form-applied")){var a=t.container.className.split(" ").filter(function(e){return"_mod-"===e.substring(0,5)}).concat(["is-checked","is-valued"]);Rocket.classes.remove(t.container,a)}switch(c){case"checkbox":case"radio":t.element.checked?o.push("is-checked"):Rocket.classes.remove(t.container,"is-checked"),Rocket.has.class(t.element,"_mod-make-toggler")?o.push("_mod-type-toggler"):"checkbox"===c?o.push("_mod-type-checkbox"):o.push("_mod-type-radio");break;case"select":o.push("_mod-type-select");break;case"textarea":o.push("_mod-type-textarea"),"shift"===n&&o.push("_mod-label-shift"),t.element.value.length>0&&o.push("is-valued");break;default:"shift"===n&&o.push("_mod-label-shift"),o.push("password"===c?"_mod-type-password":"_mod-type-input")}Rocket.classes.add(t.container,o),setTimeout(function(){Rocket.classes.add(t.container,"_mod-animate")},0)}var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=o.targets,a=void 0===c?Rocket.defaults.form.targets:c,s=o.colour,r=void 0===s?Rocket.defaults.form.colour:s,l=o.label,n=void 0===l?Rocket.defaults.form.label:l,d=o.size,i=void 0===d?Rocket.defaults.form.size:d,m=o.style,u=["mod-form-applied","_mod-colour-"+r,"_mod-style-"+(void 0===m?Rocket.defaults.form.style:m),"_mod-size-"+i],k=new RegExp("mod-form-"),p={checkboxChange:function(e){e.checked?Rocket.classes.add(e.parentNode,"is-checked"):Rocket.classes.remove(e.parentNode,"is-checked")},makeValued:function(e){setTimeout(function(){Rocket.classes.add(e.parentNode,"is-valued")},0)},processEvent:function(e){var t=Rocket.string.lowercase.all(e.target.tagName),o=e.target.parentNode.className;if(("input"===t||"textarea"===t)&&k.test(o))switch(Rocket.string.lowercase.all(e.target.getAttribute("type"))){case"checkbox":"click"===e.type&&p.checkboxChange(e.target);break;case"radio":"click"===e.type&&p.radioChange(e.target);break;default:"click"===e.type?p.makeValued(e.target):"focusout"===e.type&&p.removeValued(e.target)}},radioChange:function(e){var t=e.getAttribute("name")||!1;t&&(Rocket.classes.remove(Rocket.dom.select('input[name="'+t+'"]').map(function(e){return e.parentNode}),"is-checked"),Rocket.classes.add(e.parentNode,"is-checked"))},removeValued:function(e){e.value.length<1&&Rocket.classes.remove(e.parentNode,"is-valued")}};return function(){var o=Rocket.dom.select(a);o.length>0&&o.map(function(e){return t(e)}),e()}()};